$def with (username,data,predata)
<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>铱钶环保</title>
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/site.css" />
    <!--<script src="/static/js/modernizr-2.6.2.js"></script>-->
    <script src="/static/js/jquery-1.10.2.js"></script>
    <script src="/static/js/bootstrap-4.4.1.js"></script>
    <script src="/static/js/echarts.js"></script>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/?sn=1">一号机组实时数据展示</a></li>
                    <li><a href="/?sn=2">二号机组实时数据展示</a></li>
                    <li><a href="/historical">历史数据展示</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a>您好！$username</a></li>
                    <li><a href="logout">登出</a></li>
                </ul>
            </div>
        </div>
    </div>
    <header id="1" align="center"><h1>OZAST高效水处理监控大屏</h1></header>
    <table width="100%" border="0">
        <tbody>
            <tr style="height: 250px;">
                <td id="td1" width="25%" style="height: 250px; ">
                    <p>凝汽器前ORP：$data["Value8"]</p>
                    <p>塔前ORP：$data["Value9"]</p>
                    <p>pH值：$data["Value19"]</p>
                    <p>电导率：$data["Value20"]</p>
                    <p>凝汽器前SS：$data["Value15"]</p>
                    <p>塔前SS：$data["Value16"]</p>
                </td>
                <td id="chart1" width="50%" style="height: 250px; "></td>
                <td id="td2" width="25%" style="height: 250px; ">
                    <p>端差：$data["Value3"]</p>
                    <p>负荷：$data["Value5"]</p>
                    <p>进水水温：$data["Value1"]</p>
                    <p>出水水温：$data["Value2"]</p>
                    <p>循泵1：$data["bool21"]</p>
                    <p>循泵2：$data["bool22"]</p>
                </td>
            </tr>
            <tr style="height: 230px;">
                <td id="td3" width="25%" style="height: 230px; ">
                    <p id ="p1">臭氧投加模式：$data["Value1"]</p>
                    <p id ="p2">一号取水阀：$data["bool9"]/$data["bool10"]</p>
                    <p id ="p3">二号取水阀：$data["bool11"]/$data["bool12"]</p>
                    <p id ="p4">一号注水阀：$data["bool13"]/$data["bool14"]</p>
                    <p id ="p5">二号注水阀：$data["bool15"]/$data["bool16"]</p>
                    <p id ="p6">代斯米泵1/2：$data["bool17"]/$data["bool18"]</p>
                    <p id ="p7">格兰富泵1/2：$data["bool19"]/$data["bool20"]</p>
                    <p id ="p8">SV1/2/3：$data["bool1"]/$data["bool2"]/$data["bool3"]</p>
                    <p id ="p9">SV7/8/9：$data["bool4"]/$data["bool5"]/$data["bool6"]</p>
                </td>
                <td id="td4" width="50%" style="height: 230px; ">
                    <table width=960px border="0" align="center">
                        <tbody>
                            <tr>
                                <td id="chart2" style="width: 300px; height: 300px; "></td>
                                <td id="chart3" style="width: 300px; height: 300px; "></td>
                                <td id="chart4" style="width: 300px; height: 300px; "></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td id="td5" width="25%" style="height: 230px; ">
                    <p>凝汽器支路</p>
                    <p>调节阀开度：$data["int_13"]</p>
                    <p>冷却塔支路</p>
                    <p>调节阀开度：$data["int_14"]</p>
                    <p>本地支路</p>
                    <p>水压/气压：$data["Value11"]/$data["Value17"]</p>
                    <p>远调支路</p>
                    <p>水压/气压：$data["Value10"]/$data["Value18"]</p>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="container body-content">
        <hr />
        <footer>
            <p>&copy; ECOTECH</p>
        </footer>
    </div>

    <!--<script src="/static/js/jquery-3.7.0.js"></script>
    <script src="/static/js/bootstrap-4.4.1.js"></script>
    <script src="/static/js/respond.js"></script>-->

    <script type="text/javascript">
        var myChart1 = echarts.init(document.getElementById('chart1'));
        var myChart2 = echarts.init(document.getElementById('chart2'));
        var myChart3 = echarts.init(document.getElementById('chart3'));
        var myChart4 = echarts.init(document.getElementById('chart4'));
        var p1 = document.getElementById('p1');
        var p2 = document.getElementById('p2');
        var p3 = document.getElementById('p3');
        var p4 = document.getElementById('p4');
        var p5 = document.getElementById('p5');
        var p6 = document.getElementById('p6');
        var p7 = document.getElementById('p7');
        var p8 = document.getElementById('p8');
        var p9 = document.getElementById('p9');
        var option = {
            tooltip: {
                trigger: 'axis',
                position: function (pt) {
                    return [pt[0], '10%'];
                }
            },
            title: {
                left: 'center',
                text: '预测运维数据'
            },
            toolbox: {
                feature: {
                    dataView: {},
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                data: $predata["TIMETAG"]
            },
            yAxis: [
                {
                    name: "负荷",
                    type: 'value'
                },
                {
                    type: 'value',
                    name: "端差"
                }
            ],
            series: [
                {
                    name: '负荷',
                    type: 'line',
                    data: $predata["result1"],
                    yAxisIndex: 1,
                    smooth: true
                },
                {
                    name: '端差',
                    type: 'line',
                    data: $predata["result2"],
                    smooth: true
                },
                {
                    name: '预测',
                    type: 'line',
                    data: $predata["result3"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                },
                {
                    name: '警戒值',
                    type: 'line',
                    data: $predata["warningvalue"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                }
            ]
        };
        myChart1.setOption(option);
        option = {
            radar: {
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧气', max: 1000 }
                ],
                radius: ["0%", "65%"]
            },
            series: [
                {
                    name: 'GM48-1',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_15"], $data["int_9"], $data["int_5"], $data["int_19"], $data["int_23"], $data["int_50"]],
                            name: '1'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        myChart2.setOption(option);
        option = {
            radar: {
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧气', max: 1000 }
                ],
                radius: ["0%", "65%"]
            },
            series: [
                {
                    name: 'GM48-2',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_16"], $data["int_10"], $data["int_6"], $data["int_20"], $data["int_24"], $data["int_49"]],
                            name: '2'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        myChart3.setOption(option);
        option = {
            radar: {
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧气', max: 1000 }
                ],
                radius: ["0%", "65%"]
            },
            series: [
                {
                    name: 'GM48-3',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_17"], $data["int_11"], $data["int_7"], $data["int_21"], $data["int_25"], $data["int_48"]],
                            name: '3'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        myChart4.setOption(option);
        var temp1 = $data["bool9"];
        var temp2 = $data["bool10"];
        if (temp1 == 1)
            p2.innerHTML = '一号取水阀 开';
        else if (temp2 == 1)
            p2.innerHTML = '一号取水阀 关';
        else
            p2.innerHTML = '一号取水阀 动作中';
        temp1 = $data["bool11"];
        temp2 = $data["bool12"];
        if (temp1 == 1)
            p3.innerHTML = '二号取水阀 开';
        else if (temp2 == 1)
            p3.innerHTML = '二号取水阀 关';
        else
            p3.innerHTML = '二号取水阀 动作中';
        temp1 = $data["bool13"];
        temp2 = $data["bool14"];
        if (temp1 == 1)
            p4.innerHTML = '一号注水阀 开';
        else if (temp2 == 1)
            p4.innerHTML = '一号注水阀 关';
        else
            p4.innerHTML = '一号注水阀 动作中';
        temp1 = $data["bool15"];
        temp2 = $data["bool16"];
        if (temp1 == 1)
            p5.innerHTML = '二号注水阀 开';
        else if (temp2 == 1)
            p5.innerHTML = '二号注水阀 关';
        else
            p5.innerHTML = '二号注水阀 动作中';
        temp1 = $data["bool17"];
        temp2 = $data["bool18"];
        p6.innerHTML = '代斯米泵1/2：';
        if (temp1 == 1)
            p6.innerHTML += '运行中/';
        else
            p6.innerHTML += '未运行/';
        if (temp2 == 1)
            p6.innerHTML += '运行中';
        else
            p6.innerHTML += '未运行';
        temp1 = $data["bool19"];
        temp2 = $data["bool20"];
        p7.innerHTML = '格兰富泵1/2：';
        if (temp1 == 1)
            p7.innerHTML += '运行中/';
        else
            p7.innerHTML += '未运行/';
        if (temp2 == 1)
            p7.innerHTML += '运行中';
        else
            p7.innerHTML += '未运行';
        temp1 = $data["bool1"];
        p8.innerHTML = 'SV1/2/3：';
        if (temp1 == 1)
            p8.innerHTML += '开/';
        else
            p8.innerHTML += '关/';
        temp1 = $data["bool2"];
        if (temp1 == 1)
            p8.innerHTML += '开/';
        else
            p8.innerHTML += '关/';
        temp1 = $data["bool3"];
        if (temp1 == 1)
            p8.innerHTML += '开';
        else
            p8.innerHTML += '关';
        p9.innerHTML = 'SV7/8/9：';
        temp1 = $data["bool4"];
        if (temp1 == 1)
            p9.innerHTML += '开/';
        else
            p9.innerHTML += '关/';
        temp1 = $data["bool5"];
        if (temp1 == 1)
            p9.innerHTML += '开/';
        else
            p9.innerHTML += '关/';
        temp1 = $data["bool6"];
        temp2 = $data["bool5"];
        if (temp1 == 1) 
            p9.innerHTML += '开';
        else
            p9.innerHTML += '关';
        var temp3 = $data["bool4"];
        if ((temp3 == 1) & (temp2 == 1) & (temp1 == 0))
            p1.innerHTML = '臭氧投加模式：远程调入';
        else if ((temp3 ==0) & (temp2 == 0) & (temp1 == 1))
            p1.innerHTML = '臭氧投加模式：远程调出';
        else if ((temp1 == 0) & (temp3 == 0) & (temp2 == 1))
            p1.innerHTML = '臭氧投加模式：本地运行';
        else
            p1.innerHTML = '臭氧投加模式：模式切换中';
    </script>
</body>
</html>

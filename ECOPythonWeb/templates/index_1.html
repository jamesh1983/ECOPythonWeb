$def with (username,sn,data,predata,hisdata1,hisdata2,hisdata3,predataZK)
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>ECOTECH | 控制台</title>
    <link rel="shortcut icon" href="/static/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta name="description" content="铱钶环保网站平台">
    <meta name="author" content="黄健">
    <meta http-equiv="refresh" content="120">
    <link rel="stylesheet" type="text/css" href="/static/css/cloud-admin.css">
    <link rel="stylesheet" type="text/css" href="/static/css/themes/night.min.css" id="skin-switcher">
    <link rel="stylesheet" type="text/css" href="/static/css/responsive.css">
    <!-- STYLESHEETS --><!--[if lt IE 9]><script src="/static/js/flot/excanvas.min.js"></script><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]-->
    <link href="/static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- ANIMATE -->
    <link rel="stylesheet" type="text/css" href="/static/css/animatecss/animate.min.css" />
    <!-- DATE RANGE PICKER -->
    <link rel="stylesheet" type="text/css" href="/static/js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
    <!-- TODO -->
    <!--<link rel="stylesheet" type="text/css" href="/static/js/jquery-todo/css/styles.css" />-->
    <!-- FULL CALENDAR -->
    <link rel="stylesheet" type="text/css" href="/static/js/fullcalendar/fullcalendar.min.css" />
    <!-- GRITTER -->
    <!--<link rel="stylesheet" type="text/css" href="/static/js/gritter/css/jquery.gritter.css" />-->
    <!-- FONTS -->
    <link href='http://fonts.useso.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <script src="/static/js/echarts.js"></script>
</head>
<body>
    <!-- HEADER -->
    <header class="navbar clearfix" id="header">
        <div class="container">
            <div class="navbar-brand">
                <!-- COMPANY LOGO -->
                <a href="#">
                    <img src="/static/img/logo/ECOTECH.png" alt="ECOTECH" class="img-responsive" height="30" width="120">
                </a>
                <!-- /COMPANY LOGO -->
                <!-- SIDEBAR COLLAPSE -->
                <div id="sidebar-collapse" class="sidebar-collapse btn">
                    <i class="fa fa-bars"
                       data-icon1="fa fa-bars"
                       data-icon2="fa fa-bars"></i>
                </div>
                <!-- /SIDEBAR COLLAPSE -->
            </div>
            <!-- BEGIN TOP NAVIGATION MENU -->
            <ul class="nav navbar-nav pull-right">
                <!-- BEGIN USER LOGIN DROPDOWN -->
                <li class="dropdown user pull-right" id="header-user">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <img alt="" src="static/img/avatars/ET.jpg" />
                        <span class="username">$username</span>
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="logout"><i class="fa fa-power-off"></i> 登出</a></li>
                    </ul>
                </li>
                <!-- END USER LOGIN DROPDOWN -->
            </ul>
            <!-- END TOP NAVIGATION MENU -->
        </div>
    </header>
    <!--/HEADER -->
    <!-- PAGE -->
    <section id="page">
        <!-- SIDEBAR -->
        <div id="sidebar" class="sidebar">
            <div class="sidebar-menu nav-collapse">
                <!-- SIDEBAR MENU -->
                <ul>
                    <!--dashboard-->
                    <li class="has-sub active">
                        <a href="javascript:;" class="">
                            <i class="fa fa-tachometer fa-fw"></i>
                            <span class="menu-text">仪表台</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="sub">
                            <li><a class="" href="/?sn=1&dates=1"><span class="sub-menu-text">一号机组</span></a></li>
                            <li><a class="" href="/?sn=2&dates=1"><span class="sub-menu-text">二号机组</span></a></li>
                        </ul>
                    </li>
                    <!--historical-->
                    <li class="has-sub">
                        <a href="historical" class="">
                            <i class="fa fa-bookmark-o fa-fw"></i> <span class="menu-text">历史数据曲线</span>
                        </a>
                    </li>
                    <!--工单管理-->
                    <li class="">
                        <a href="#" class="">
                            <i class="fa fa-table fa-fw"></i> <span class="menu-text">工单管理</span>
                        </a>
                    </li>
                    <!--日历-->
                    <li>
                        <a class="" href="calendar">
                            <i class="fa fa-calendar fa-fw"></i>
                            <span class="menu-text">
                                日历
                                <span class="tooltip-error pull-right" title="" data-original-title="3 New Events">
                                    <span class="label label-success">New</span>
                                </span>
                            </span>
                        </a>
                    </li>
                </ul>
                <!-- /SIDEBAR MENU -->
            </div>
            <div class="container" id="warning">
                <div class="alert alert-success" id="li1">
                    一切正常!
                </div>
            </div>
        </div>
        <!-- /SIDEBAR -->
        <div id="main-content">
            <!-- SAMPLE BOX CONFIGURATION MODAL FORM-->
            <!--<div class="modal fade" id="box-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title">Box Settings</h4>
                        </div>
                        <div class="modal-body">
                            Here goes box setting content.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>-->
            <!-- /SAMPLE BOX CONFIGURATION MODAL FORM-->
            <div class="container">
                <div class="row">
                    <div id="content" class="col-md-12">
                        <!-- PAGE HEADER-->
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="page-header">
                                    <!-- BREADCRUMBS -->
                                    <ul class="breadcrumb">
                                        <li>
                                            <i class="fa fa-home"></i>
                                            <a href="/?sn=1&dates=1" id="homepage">首页</a>
                                        </li>
                                        <li>仪表台</li>
                                        <li>
                                            $if sn==1:
                                                一号机组
                                            $if sn==2:
                                                二号机组
                                        </li>
                                    </ul>
                                    <!-- /BREADCRUMBS -->
                                    <div class="clearfix">
                                        <h3 class="content-title pull-left">仪表台</h3>
                                        <!-- DATE RANGE PICKER -->
                                        <div class="date-range pull-right">
                                            <div class="btn-group">
                                                <a class="js_update btn btn-default" href="/?sn=$sn&dates=1">今日</a>
                                                <a class="js_update btn btn-default" href="/?sn=$sn&dates=7">最近7天</a>
                                                <a class="js_update btn btn-default hidden-xs" href="/?sn=$sn&dates=30">最近30天</a>
                                                <!--<a id="reportrange" class="btn reportrange">
                                                    <i class="fa fa-calendar"></i>
                                                    <i class="fa fa-angle-down"></i>
                                                </a>-->
                                            </div>
                                        </div>
                                        <!-- /DATE RANGE PICKER -->
                                    </div>
                                    <div class="description">总览, 数据及更多</div>
                                </div>
                            </div>
                        </div>
                        <!-- /PAGE HEADER -->
                        <!-- DASHBOARD CONTENT -->
                        <div class="row">
                            <!-- COLUMN 1 -->
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">ORP</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p12"></div>
                                                    <div class="title">凝汽器前</div>
                                                    <span class="label label-success">
                                                        mV<!--<i class="fa fa-arrow-up"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">ORP</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p13"></div>
                                                    <div class="title">冷却塔前</div>
                                                    <span class="label label-success">
                                                        mV<!--<i class="fa fa-arrow-up"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">端差</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p18"></div>
                                                    <div class="title"></div>
                                                    <span class="label label-success">
                                                        ℃<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">负荷</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p19"></div>
                                                    <div class="title"></div>
                                                    <span class="label label-success">
                                                        MW<!--<i class="fa fa-arrow-up"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /COLUMN 1 -->
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="box solid green">
                                            <div class="box-title">
                                                <h4>状态表</h4>
                                                <div class="tools">
                                                    <a href="javascript:;" class="collapse">
                                                        <i class="fa fa-chevron-up"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="box-body" style="height: 260px; overflow: auto;">
                                                <table class="table table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th><i class="fa fa-user"></i>列表</th>
                                                            <th><i class="fa fa-bars"></i>状态</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><a>臭氧投加模式</a></td>
                                                            <td><span class="label label-sm label-success" id="p1"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>一号取水阀/二号取水阀</a></td>
                                                            <td><span class="label label-sm label-warning" id="p2"></span>/<span class="label label-sm" id="p3"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>一号注水阀/二号注水阀</a></td>
                                                            <td><span class="label label-sm" id="p4"></span>/<span class="label label-sm" id="p5"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>代斯米取水泵1/代斯米取水泵2</a></td>
                                                            <td><span class="label label-sm" id="p6"></span>/<span class="label label-sm" id="sp6"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>格兰富增压泵1/格兰富增压泵2</a></td>
                                                            <td><span class="label label-sm" id="p7"></span>/<span class="label label-sm" id="sp7"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>冷却水循环水泵1/冷却水循环水泵2</a></td>
                                                            <td><span class="label label-sm" id="p22"></span>/<span class="label label-sm" id="sp22"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>电磁阀1/电磁阀2/电磁阀3</a></td>
                                                            <td><span class="label label-sm" id="p8"></span>/<span class="label label-sm" id="sp8"></span>/<span class="label label-sm" id="s8"></span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><a>电磁阀7/电磁阀8/电磁阀9</a></td>
                                                            <td><span class="label label-sm" id="p9"></span>/<span class="label label-sm" id="sp9"></span>/<span class="label label-sm" id="s9"></span></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box solid">
                                            <div class="box-title">
                                                <h4>预测运维数据</h4>
                                                <div class="tools">
                                                    <a href="javascript:;" class="collapse">
                                                        <i class="fa fa-chevron-up"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <!--<div id="chart-revenue" style="height:240px"></div>-->
                                                <div id="chart1" style="height: 240px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box solid">
                                            <div class="box-title">
                                                <h4>预测运维数据</h4>
                                                <div class="tools">
                                                    <a href="javascript:;" class="collapse">
                                                        <i class="fa fa-chevron-up"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <!--<div id="chart-revenue" style="height:240px"></div>-->
                                                <div id="chart5" style="height: 240px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="quick-pie panel panel-default">
                                            <div class="panel-body">
                                                <div class="col-md-12 text-center">
                                                    <div id="dash_pie_1" class="piechart" data-percent=$data["int_14"]>
                                                        <span class="percent"></span>
                                                    </div>
                                                    <a class="title">凝汽器支路调节阀开度</a>
                                                </div>
                                                <div class="col-md-12 text-center">
                                                    <div id="dash_pie_2" class="piechart" data-percent=$data["int_13"]>
                                                        <span class="percent"></span>
                                                    </div>
                                                    <a class="title">冷却塔支路调节阀开度</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- COLUMN 2 -->
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">pH</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p14"></div>
                                                    <div class="title"></div>
                                                    <span class="label label-success">
                                                        <!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">电导</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p15"></div>
                                                    <div class="title"></div>
                                                    <span class="label label-success">
                                                        uS/cm<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">SS</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p16"></div>
                                                    <div class="title">凝汽器前</div>
                                                    <span class="label label-success">
                                                        mg/L<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">SS</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p17"></div>
                                                    <div class="title">冷却塔前</div>
                                                    <span class="label label-success">
                                                        mg/L<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /COLUMN 2 -->
                            <div class="col-md-5">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">水压</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p10"></div>
                                                    <div class="title">本地支路</div>
                                                    <span class="label label-success">
                                                        bar<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">水压</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p11"></div>
                                                    <div class="title">远调支路</div>
                                                    <span class="label label-success">
                                                        bar<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">水温</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p20"></div>
                                                    <div class="title">进水侧</div>
                                                    <span class="label label-success">
                                                        ℃<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">水温</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="p21"></div>
                                                    <div class="title">出水侧</div>
                                                    <span class="label label-success">
                                                        ℃<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">气压</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="sp10"></div>
                                                    <div class="title">本地支路</div>
                                                    <span class="label label-success">
                                                        bar<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="dashbox panel panel-default">
                                            <div class="panel-body">
                                                <div class="panel-left blue">
                                                    <i class="panel-title">气压</i>
                                                </div>
                                                <div class="panel-right">
                                                    <div class="number" id="sp11"></div>
                                                    <div class="title">远调支路</div>
                                                    <span class="label label-success">
                                                        bar<!--5% <i class="fa fa-arrow-down"></i>-->
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-7">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="box solid">
                                            <div class="box-title">
                                                <h4>水温数据</h4>
                                                <div class="tools">
                                                    <a href="javascript:;" class="collapse">
                                                        <i class="fa fa-chevron-up"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <!--<div id="chart-revenue" style="height:240px"></div>-->
                                                <div id="chart6" style="height: 210px;"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-4" id="chart2" style="height: 450px; "></div>
                                    <div class="col-md-4" id="chart3" style="height: 450px; "></div>
                                    <div class="col-md-4" id="chart4" style="height: 450px; "></div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-4">
                                        <p class=""><span class="badge" id="li11"></span></p>
                                        <p class=""><span class="badge" id="li12"></span></p>
                                        <p class=""><span class="badge" id="li13"></span></p>
                                        <p class=""><span class="badge" id="li14"></span></p>
                                    </div>
                                    <div class="col-md-4">
                                        <p class=""><span class="badge" id="li15"></span></p>
                                        <p class=""><span class="badge" id="li16"></span></p>
                                        <p class=""><span class="badge" id="li17"></span></p>
                                        <p class=""><span class="badge" id="li18"></span></p>
                                    </div>
                                    <div class="col-md-4">
                                        <p class=""><span class="badge" id="li19"></span></p>
                                        <p class=""><span class="badge" id="li20"></span></p>
                                        <p class=""><span class="badge" id="li21"></span></p>
                                        <p class=""><span class="badge" id="li22"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /DASHBOARD CONTENT -->
                        <div class="footer-tools">
                            <span class="go-top">
                                <i class="fa fa-chevron-up"></i> Top
                            </span>
                        </div>
                        <footer>
                            <p>获取的是时间为：$data["TIMETAG"]的数据</p>
                            <p>&copy; ECOTECH</p>
                        </footer>
                    </div><!-- /CONTENT-->
                </div>
            </div>
        </div>
    </section>
    <!--/PAGE -->
    <!-- JAVASCRIPTS -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQUERY -->
    <script src="/static/js/jquery/jquery-2.0.3.min.js"></script>
    <!-- JQUERY UI-->
    <script src="/static/js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
    <!-- BOOTSTRAP -->
    <script src="/static/bootstrap-dist/js/bootstrap.min.js"></script>
    <!-- DATE RANGE PICKER -->
    <script src="/static/js/bootstrap-daterangepicker/moment.min.js"></script>
    <script src="/static/js/bootstrap-daterangepicker/daterangepicker.min.js"></script>
    <!-- SLIMSCROLL -->
    <script type="text/javascript" src="/static/js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script>
    <!-- SLIMSCROLL -->
    <script type="text/javascript" src="/static/js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="/static/js/jQuery-slimScroll-1.3.0/slimScrollHorizontal.min.js"></script>
    <!-- BLOCK UI -->
    <script type="text/javascript" src="/static/js/jQuery-BlockUI/jquery.blockUI.min.js"></script>
    <!-- SPARKLINES -->
    <script type="text/javascript" src="/static/js/sparklines/jquery.sparkline.min.js"></script>
    <!-- EASY PIE CHART -->
    <script src="/static/js/jquery-easing/jquery.easing.min.js"></script>
    <script type="text/javascript" src="/static/js/easypiechart/jquery.easypiechart.min.js"></script>
    <!-- FLOT CHARTS -->
    <script src="/static/js/flot/jquery.flot.min.js"></script>
    <!--<script src="/static/js/flot/jquery.flot.time.min.js"></script>
    <script src="/static/js/flot/jquery.flot.selection.min.js"></script>
    <script src="/static/js/flot/jquery.flot.resize.min.js"></script>
    <script src="/static/js/flot/jquery.flot.pie.min.js"></script>
    <script src="/static/js/flot/jquery.flot.stack.min.js"></script>
    <script src="/static/js/flot/jquery.flot.crosshair.min.js"></script>-->
    <!-- TODO -->
    <!--<script type="text/javascript" src="/static/js/jquery-todo/js/paddystodolist.js"></script>-->
    <!-- TIMEAGO -->
    <!--<script type="text/javascript" src="/static/js/timeago/jquery.timeago.min.js"></script>-->
    <!-- FULL CALENDAR -->
    <!--<script type="text/javascript" src="/static/js/fullcalendar/fullcalendar.min.js"></script>-->
    <!-- COOKIE -->
    <script type="text/javascript" src="/static/js/jQuery-Cookie/jquery.cookie.min.js"></script>
    <!-- GRITTER -->
    <!--<script type="text/javascript" src="/static/js/gritter/js/jquery.gritter.min.js"></script>-->
    <!-- CUSTOM SCRIPT -->
    <script type="text/javascript" src="/static/js/script.js" charset="UTF-8"></script>

    <script type="text/javascript">
        
        jQuery(document).ready(function () {
            App.setPage("index");  //Set current page
            App.init(); //Initialise plugins and elements
        });
        function set_option_to_chart(ChartName, Option) {
            myEChart = echarts.init(ChartName);
            myEChart.setOption(Option);
        }
        function flags_to_element(ElementName, Flag1, Flag2, Option) {
            if (Flag1 == 1) {
                ElementName.className = Option["ClassName"][0];
                ElementName.innerHTML = Option["HTMLText"][0];
            }
            else if (Flag2 == 1) {
                ElementName.className = Option["ClassName"][1];
                ElementName.innerHTML = Option["HTMLText"][1];
            }
            else {
                ElementName.className = Option["ClassName"][2];
                ElementName.innerHTML = Option["HTMLText"][2];
            }
        }
        function flag_to_element(ElementName, Flag, Option) {
            if (Flag == 1) {
                ElementName.className = Option["ClassName"][0];
                ElementName.innerHTML = Option["HTMLText"][0];
            }
            else {
                ElementName.className = Option["ClassName"][1];
                ElementName.innerHTML = Option["HTMLText"][1];
            }
        }
        function value_to_element(ElementName, Value) {
            var temp_string = Value.toFixed(2).toString();
            ElementName.innerHTML = temp_string;
        }
        var pre_day = $predata["pre_day"][0];
        var subtext = "预计凝汽器端差" + pre_day.toFixed(1).toString() + "天后达到报警值";
        var option = {
            tooltip: {
                trigger: 'axis',
                position: function (pt) {
                    return [pt[0], '10%'];
                }
            },
            //grid: {
            //    left: "3%",
            //    right: "3%",
            //},
            title: {
                left: 'center',
                text: subtext,
                textStyle: {
                    fontSize: 15
                }
            },
            toolbox: {
                feature: {
                    dataView: {},
                    saveAsImage: {}
                }
            },
            grid: {
                top: "25%",
                left: "8%",
                right: "8%",
                bottom: "10%"
            },
            xAxis: {
                type: 'category',
                data: $predata["TIMETAG"]
            },
            yAxis: [
                {
                    name: "端差(℃)",
                    type: 'value'
                },
                {
                    name: "负荷(MW)",
                    splitLine: {
                        show: false
                    },
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '负荷(MW)',
                    type: 'line',
                    showSymbol: false,
                    data: $predata["result1"],
                    yAxisIndex: 1,
                    smooth: true
                },
                {
                    name: '端差(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $predata["result2"],
                    smooth: true
                },
                {
                    name: '预测(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $predata["result3"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                },
                {
                    name: '警戒值(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $predata["warningvalue"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart1'), option);
        option = {
            title: {
                text: "GM48-1",
                left: "left",
                top: "bottom"
            },
            radar: {
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '臭浓', max: 300 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧浓', max: 100 },
                    { name: '工作模块', max: 48 }
                ],
                radius: ["0%", "80%"]
            },
            series: [
                {
                    name: 'GM48-1',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_44"], $data["int_51"], $data["int_9"], $data["int_5"], $data["int_19"], $data["int_23"], $data["int_50"] / 10, 48 - $data["int_36"]],
                            name: '1'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart2'), option);
        option = {
            title: {
                text: "GM48-2",
                left: "left",
                top: "bottom"
            },
            radar: {
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '臭浓', max: 300 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧浓', max: 100 },
                    { name: '工作模块', max: 48 }
                ],
                radius: ["0%", "80%"]
            },
            series: [
                {
                    name: 'GM48-2',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_45"], $data["int_52"], $data["int_10"], $data["int_6"], $data["int_20"], $data["int_24"], $data["int_49"] / 10, 48 - $data["int_38"]],
                            name: '2'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart3'), option);
        option = {
            title: {
                text: "GM48-3",
                left: "left",
                top: "bottom"
            },
            radar: {
                title: {
                    text: "GM48-2",
                    left: "left",
                    top: "bottom"
                },
                // shape: 'circle',
                indicator: [
                    { name: '发生量', max: 2700 },
                    { name: '臭浓', max: 300 },
                    { name: '流量', max: 350 },
                    { name: '功率', max: 27700 },
                    { name: '进水温', max: 30 },
                    { name: '出水温', max: 30 },
                    { name: '氧浓', max: 100 },
                    { name: '工作模块', max: 48 }
                ],
                radius: ["0%", "80%"]
            },
            series: [
                {
                    name: 'GM48-3',
                    type: 'radar',
                    data: [
                        {
                            value: [$data["int_46"], $data["int_53"], $data["int_11"], $data["int_7"], $data["int_21"], $data["int_25"], $data["int_48"] / 10, 48 - $data["int_40"]],
                            name: '3'
                        }
                    ],
                    label: {
                        show: true
                    }
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart4'), option);
        pre_day = $predataZK["pre_day"][0];
        subtext = "预计凝汽器真空" + pre_day.toFixed(1).toString() + "天后达到报警值";
        option = {
            tooltip: {
                trigger: 'axis',
                position: function (pt) {
                    return [pt[0], '10%'];
                }
            },
            //grid: {
            //    left: "3%",
            //    right: "3%",
            //},
            title: {
                left: 'center',
                text: subtext,
                textStyle: {
                    fontSize: 15
                }
            },
            toolbox: {
                feature: {
                    dataView: {},
                    saveAsImage: {}
                }
            },
            grid: {
                top: "25%",
                left: "8%",
                right: "8%",
                bottom: "10%"
            },
            xAxis: {
                type: 'category',
                data: $predataZK["TIMETAG"]
            },
            yAxis: [
                {
                    name: "真空(kPa)",
                    type: 'value'
                },
                {
                    name: "负荷(MW)",
                    splitLine: {
                        show: false
                    },
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '负荷(MW)',
                    type: 'line',
                    showSymbol: false,
                    data: $predataZK["result1"],
                    yAxisIndex: 1,
                    smooth: true
                },
                {
                    name: '真空(kPa)',
                    type: 'line',
                    showSymbol: false,
                    data: $predataZK["result2"],
                    smooth: true
                },
                {
                    name: '预测(kPa)',
                    type: 'line',
                    showSymbol: false,
                    data: $predataZK["result3"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                },
                {
                    name: '警戒值(kPa)',
                    type: 'line',
                    showSymbol: false,
                    data: $predataZK["warningvalue"],
                    lineStyle: {
                        type: [5, 10],
                        dashOffset: 5
                    }
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart5'), option);
        option = {
            tooltip: {
                trigger: 'axis',
                position: function (pt) {
                    return [pt[0], '10%'];
                }
            },
            //grid: {
            //    left: "3%",
            //    right: "3%",
            //},
            toolbox: {
                feature: {
                    dataView: {},
                    saveAsImage: {}
                }
            },
            grid: {
                top: "25%",
                left: "8%",
                right: "8%",
                bottom: "10%"
            },
            xAxis: {
                type: 'category',
                data: $hisdata1["TIMETAG"]
            },
            yAxis: [
                {
                    name: "水温(℃)",
                    type: 'value'
                },
                {
                    name: "端差(℃)",
                    splitLine: {
                        show: false
                    },
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '进水水温(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $hisdata1["result"],
                    smooth: true
                },
                {
                    name: '出水水温(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $hisdata2["result"],
                    smooth: true
                },
                {
                    name: '端差(℃)',
                    type: 'line',
                    showSymbol: false,
                    data: $hisdata3["result"],
                    //yAxisIndex: 1,
                    smooth: true
                }
            ]
        };
        set_option_to_chart(document.getElementById('chart6'), option);

        //臭氧投加模式
        var ElementId = document.getElementById('p1');
        var temp1 = $data["bool6"];
        var temp2 = $data["bool5"];
        var temp3 = $data["bool4"];
        if ((temp3 == 1) & (temp2 == 1) & (temp1 == 0)) {
            ElementId.className = "label label-sm label-success";
            ElementId.innerHTML = '远程调入';
        }
        else if ((temp3 == 0) & (temp2 == 0) & (temp1 == 1)) {
            ElementId.className = "label label-sm label-success";
            ElementId.innerHTML = '远程调出';
        }
        else if ((temp1 == 0) & (temp3 == 0) & (temp2 == 1)) {
            ElementId.className = "label label-sm label-success";
            ElementId.innerHTML = '本地运行';
        }
        else {
            ElementId.className = "label label-sm label-warning";
            ElementId.innerHTML = '模式切换中';
        }
        //一号取水阀
        var Element_Option = {
            ClassName: ["label label-sm label-success", "label label-sm label-warning", "label label-sm label-info"],
            HTMLText: ["开", "关", "动作中"]
        }
        flags_to_element(document.getElementById('p2'), $data["bool9"], $data["bool10"], Element_Option);
        //二号取水阀
        flags_to_element(document.getElementById('p3'), $data["bool11"], $data["bool12"], Element_Option);
        //一号注水阀
        flags_to_element(document.getElementById('p4'), $data["bool13"], $data["bool14"], Element_Option);
        //二号注水阀
        flags_to_element(document.getElementById('p5'), $data["bool15"], $data["bool16"], Element_Option);
        //取水泵1/2
        Element_Option = {
            ClassName: ["label label-sm label-success", "label label-sm label-warning"],
            HTMLText: ["运行中", "未运行"]
        };
        flag_to_element(document.getElementById('p6'), $data["bool17"], Element_Option);
        flag_to_element(document.getElementById('sp6'), $data["bool18"], Element_Option);
        //增压泵1/2
        flag_to_element(document.getElementById('p7'), $data["bool19"], Element_Option);
        flag_to_element(document.getElementById('sp7'), $data["bool20"], Element_Option);
        //循泵1 / 2
        flag_to_element(document.getElementById('p22'), $data["bool21"], Element_Option);
        flag_to_element(document.getElementById('sp22'), $data["bool22"], Element_Option);
        Element_Option = {
            ClassName: ["label label-sm label-success", "label label-sm label-warning"],
            HTMLText: ["开", "关"]
        };
        //SV1/2/3
        flag_to_element(document.getElementById('p8'), $data["bool1"], Element_Option);
        flag_to_element(document.getElementById('sp8'), $data["bool2"], Element_Option);
        flag_to_element(document.getElementById('s8'), $data["bool3"], Element_Option);
        //SV7/8/9
        flag_to_element(document.getElementById('p9'), $data["bool4"], Element_Option);
        flag_to_element(document.getElementById('sp9'), $data["bool5"], Element_Option);
        flag_to_element(document.getElementById('s9'), $data["bool6"], Element_Option);
        //本地支路水压 / 气压
        value_to_element(document.getElementById('p10'), $data["Value11"]);
        value_to_element(document.getElementById('sp10'), $data["Value17"]);
        //远调支路水压 / 气压
        value_to_element(document.getElementById('p11'), $data["Value10"]);
        value_to_element(document.getElementById('sp11'), $data["Value18"]);
        //凝前ORP
        value_to_element(document.getElementById('p12'), $data["Value8"]);
        //塔前ORP
        value_to_element(document.getElementById('p13'), $data["Value9"]);
        //pH值
        value_to_element(document.getElementById('p14'), $data["Value19"]);
        //电导率
        value_to_element(document.getElementById('p15'), $data["Value20"]);
        //凝前SS
        value_to_element(document.getElementById('p16'), $data["Value15"]);
        //塔前SS
        value_to_element(document.getElementById('p17'), $data["Value16"]);
        //端差
        value_to_element(document.getElementById('p18'), $data["Value3"]);
        //负荷
        value_to_element(document.getElementById('p19'), $data["Value5"]);
        //进水水温
        value_to_element(document.getElementById('p20'), $data["Value1"]);
        //出水水温
        value_to_element(document.getElementById('p21'), $data["Value2"]);
        Element_Option = {
            ClassName: ["label label-sm label-success", "label label-sm label-danger"],
            HTMLText: ["设备运行中", "设备停机中"]
        };
        flag_to_element(document.getElementById('li11'), $data["bool23"], Element_Option);
        flag_to_element(document.getElementById('li15'), $data["bool24"], Element_Option);
        flag_to_element(document.getElementById('li19'), $data["bool25"], Element_Option);

        Element_Option = {
            ClassName: ["label label-sm label-danger", "label label-sm label-success"],
            HTMLText: ["冷却水水温高故障", "冷却水水温正常"]
        };
        flag_to_element(document.getElementById('li12'), $data["bool34"], Element_Option);
        flag_to_element(document.getElementById('li16'), $data["bool38"], Element_Option);
        flag_to_element(document.getElementById('li20'), $data["bool42"], Element_Option);

        Element_Option = {
            ClassName: ["label label-sm label-danger", "label label-sm label-success"],
            HTMLText: ["BFP进水", "BFP正常"]
        };
        flag_to_element(document.getElementById('li13'), $data["bool36"], Element_Option);
        flag_to_element(document.getElementById('li17'), $data["bool40"], Element_Option);
        flag_to_element(document.getElementById('li21'), $data["bool44"], Element_Option);

        Element_Option = {
            ClassName: ["label label-sm label-danger", "label label-sm label-success"],
            HTMLText: ["氧气流量低", "氧气流量正常"]
        };
        flag_to_element(document.getElementById('li14'), $data["bool37"], Element_Option);
        flag_to_element(document.getElementById('li18'), $data["bool41"], Element_Option);
        flag_to_element(document.getElementById('li22'), $data["bool45"], Element_Option);
        //故障信息
        Element_Option = {
            ClassName: ["badge badge-danger", "badge badge-success"],
            HTMLText: ["故障", "无故障"]
        };
        ElementId = document.getElementById('li1');
        var ElementADD = ElementId;
        var ElementWarning = document.getElementById('warning');
        temp1 = $data["bool27"];
        if (temp1 == 1) {
            ElementId.className = "alert alert-danger";
            ElementId.innerHTML = "1#空压机故障报警";
        }
        temp1 = $data["bool28"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "2#空压机故障报警";
                ElementWarning.appendChild(ElementADD);
                //document.body.insertAfter(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "2#空压机故障报警";
            }
        }
        temp1 = $data["bool29"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "3#空压机故障报警";
                ElementWarning.appendChild(ElementADD);
                //document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "3#空压机故障报警";
            }
        }
        temp1 = $data["bool30"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "1#冷冻机故障报警";
                ElementWarning.appendChild(ElementADD);
                //document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "1#冷冻机故障报警";
            }
        }
        temp1 = $data["bool31"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "2#冷冻机故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "2#冷冻机故障报警";
            }
        }
        temp1 = $data["bool32"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "3#冷冻机故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "3#冷冻机故障报警";
            }
        }
        temp1 = $data["bool58"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "1#取水泵故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "1#取水泵故障报警";
            }
        }
        temp1 = $data["bool59"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-dangere";
                ElementADD.innerHTML = "2#取水泵故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "2#取水泵故障报警";
            }
        }
        temp1 = $data["bool60"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "1#增压泵故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "1#增压泵故障报警";
            }
        }
        temp1 = $data["bool61"];
        if (temp1 == 1) {
            if (ElementId.className == "alert alert-danger") {
                ElementADD = document.createElement("div");
                ElementADD.className = "alert alert-danger";
                ElementADD.innerHTML = "2#增压泵故障报警";
                document.body.insertBefore(ElementADD, ElementId);
            }
            else {
                ElementId.className = "alert alert-danger";
                ElementId.innerHTML = "2#增压泵故障报警";
            }
        }
        var name = $username
        var homepage = document.getElementById('homepage');
        if ((name == "111") || (name == "222"))
        {
            homepage.innerHTML.link('/?sn=1&dates=1');
        }
        else if (name == "333")
        {
            homepage.innerHTML.link('/?sn=3&dates=1');
        }
    </script>
    <!-- /JAVASCRIPTS -->
</body>
</html>